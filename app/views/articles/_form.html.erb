
<%= form_with(model: article) do |form| %>
    <% if @article.errors.any? %>
        <div id="error_explanation">
            <h2><%= pluralize(@article.errors.count, "erreur") %> empêchent cet article d'être enregistré:</h2>

            <ul>
            <% @article.errors.each do |error| %>
                <li><%= error.full_message %></li>
            <% end %>
            </ul>
        </div>
    <% end %>

    
    <%= form.hidden_field :user_id, :value => current_user.id %>

    <div class="form_group form-block mb-2">
        <p class="text">Catégorie de votre création :</p>
        <div class="form-control">
            <%= form.select :category_id, Category.pluck(:name, :id), :include_blank => 'choississez une categorie :', :class => 'form-control' %>
        </div>
    </div>

    <div class="form_group form-block">
        <%= form.label :titre, class: 'text' %>
        <%= form.text_field :title, required: true, class: "form-control input text mb-2" %>
    </div>

    <div class="form_group form-block">
        <%= form.label :description, class: 'text' %>
        <%= form.text_area :description, required: true, class: "form-control textarea mb-2", :rows => 7 %>
    </div>

    <div class="form_group form-block">
        <%= form.file_field :header_image, direct_upload: true, class: "form-control mt-2 mb-2" %>
    </div>

    <div class="form-actions mb-2">
        <%= form.submit 'valider', class: "btn btn-light-pink" %>
    </div>

<% end %>